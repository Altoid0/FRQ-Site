<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Recursion | Nathaniel</title>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>
</head>
<body>

    <h1>Recursion</h1>
    <p>This is a demonstration of MergeSort with recursion.</p>
    <iframe width="560" height="315" src="https://www.youtube.com/embed/ZRPoEKHXTJg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

    <h3>See the algorithm in action with an array of random integers.</h3>
    <form th:action="@{/nathan/recursion}">
        <label>Array length</label>
        <input type="number" min="1" max="100" th:name="length" th:value="${length}">
        <input type="submit">
    </form>

    <p th:text="${unsorted}"></p>
    <p th:text="${sorted}"></p>

    <h3>Graph the time complexity for merge sort with ascending lengths of arrays.</h3>
    <form th:action="@{/nathan/recursion}">
        <label>Max Array Length</label>
        <input type="number" min="100", max="500" th:name="iterations" th:value="${iterations}">
        <input type="submit">
    </form>
    <p><small>*due to the random nature of this algorithm it may be necessary to run it multiple times by refreshing the page to see good resutls</small></p>

    <canvas id="line-chart" width="100px"></canvas>


    <div class="java-code">
        <h1>Java Code</h1>
        <script src="https://gist.github.com/nathanielCherian/4c24e2b70d7692672957681d6dc6bcda.js"></script>
    </div>

    <script th:inline="javascript">
        var list = /*[[${iterationData}]]*/ [];
        console.log(list);

        if(list !== null){

            const labels = Array.from(Array(list.length).keys());

        new Chart(document.getElementById("line-chart"), {
          type: 'line',
          data: {
            labels: labels,
            datasets: [{
                data: list,
                label: "MergeSort",
                borderColor: "#3e95cd",
                fill: false
              }
            ]
          },
          options: {
            title: {
              display: true,
              text: 'Time in nanoseconds for sorting an array of size X'
            }
          }
        });

        }

    </script>

    <style>

        #line-graph{
            width:50% !important;
        }

        .java-code{
            width: 50% !important;
            position: absolute;
            left: 50%;
            transform: translate(-50%, 0%)
        }

        .java-code h1{
            text-align: center;
        }

    </style>



</body>
</html>